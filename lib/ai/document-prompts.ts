/**
 * ×¤×¨×•××¤×˜×™× ××•×ª×××™× ×œ× ×™×ª×•×— 5 ×¡×•×’×™ ××¡××›×™× ×¤×™× × ×¡×™×™×
 * ×›×œ ×¤×¨×•××¤×˜ ××•×ª×× ×œ×¡×•×’ ×”××¡××š ×•×œ×¤×•×¨××˜ ×”×¤×œ×˜ ×”× ×“×¨×©
 */

// ============================================================================
// 1ï¸âƒ£ ×“×•×— ××©×¨××™ (Credit Card Statement)
// ============================================================================

export function getCreditStatementPrompt(
  text: string,
  categories?: Array<{name: string; expense_type: string; category_group: string}>
): string {
  // Build categories guide from database
  let categoriesGuide = '';
  if (categories && categories.length > 0) {
    const fixed = categories.filter(c => c.expense_type === 'fixed');
    const variable = categories.filter(c => c.expense_type === 'variable');
    const special = categories.filter(c => c.expense_type === 'special');
    
    categoriesGuide = `

**×§×˜×’×•×¨×™×•×ª ×”×•×¦××•×ª ××¤×©×¨×™×•×ª (××”××¡×“ × ×ª×•× ×™×):**

**×§×‘×•×¢×•×ª (fixed):**
${fixed.map(c => `  â€¢ ${c.name}`).join('\n')}

**××©×ª× ×•×ª (variable):**
${variable.map(c => `  â€¢ ${c.name}`).join('\n')}

**××™×•×—×“×•×ª (special):**
${special.map(c => `  â€¢ ${c.name}`).join('\n')}

**×—×©×•×‘:** ×”×©×ª××© ×‘×©××•×ª ×”××“×•×™×§×™× ××”×¨×©×™××” ×œ××¢×œ×” ×‘×œ×‘×“!
××œ ×ª××¦×™× ×§×˜×’×•×¨×™×•×ª ×—×“×©×•×ª - ×¨×§ ××”×¨×©×™××” ×”×–××ª.

ğŸš¨ **×§×¨×™×˜×™ - ×§×˜×œ×•×’ ×”×•×¦××•×ª!** ğŸš¨
1. ×”×©×ª××© **×¨×§** ×‘×§×˜×’×•×¨×™×•×ª ××”×¨×©×™××” ×œ××¢×œ×”
2. ×”×¢×ª×§ ××ª ×”×©× **×”××“×•×™×§** (×›×•×œ×œ ×¨×•×•×—×™× ×•××•×ª×™×•×ª)
3. **×× ×œ× ×‘×˜×•×— ×‘×§×˜×’×•×¨×™×” - ×”×©××¨ null! ××œ ×ª××¦×™× ×§×˜×’×•×¨×™×•×ª!**
4. **××œ ×ª×©×ª××© ×‘"×œ× ××¡×•×•×’" - ×× ××™×Ÿ ×§×˜×’×•×¨×™×” ×‘×¨×•×¨×”, ×”×©××¨ expense_category: null**
5. ×”××©×ª××© ×™××œ× ××ª ×”×§×˜×’×•×¨×™×” ×™×“× ×™×ª

×“×•×’×××•×ª × ×›×•× ×•×ª:
âœ… "×§× ×™×•×ª ×¡×•×¤×¨" â†’ expense_category: "×§× ×™×•×ª ×¡×•×¤×¨"
âœ… "××¨× ×•× ×” ×œ××’×•×¨×™×" â†’ expense_category: "××¨× ×•× ×” ×œ××’×•×¨×™×"
âœ… "××¡×¢×“×•×ª" â†’ expense_category: "××¡×¢×“×•×ª"
âœ… "×§× ×™×•×ª ××–×•×Ÿ" (××™×Ÿ ×‘×˜×‘×œ×” - ×œ× ×‘×˜×•×—) â†’ expense_category: null
âœ… "××¨× ×•× ×”" (×œ× ×‘×¨×•×¨ ××™×–×” ×¡×•×’) â†’ expense_category: null
`;
  }
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×¤×™×¨×•×˜×™ ×•×™×–×” ×™×©×¨××œ×™×™× (×›××œ/××§×¡/×™×©×¨××›×¨×˜/×œ××•××™ ×§××¨×“).

## **××˜×¨×”**: ×—×™×œ×•×¥ **×›×œ ×¢×¡×§×”** ××”×“×•×— ×¢× ×¡×™×•×•×’ ××“×•×™×§ ×œ×§×˜×’×•×¨×™×•×ª.

ğŸ¯ **×—×©×•×‘ ×‘××™×•×—×“:**
- ×—×œ×¥ **×›×œ ×¢×¡×§×”** - ×¢×‘×¨×™×ª ×•×× ×’×œ×™×ª
- ×–×”×” ×”×•×¨××•×ª ×§×‘×¢ (recurring) ×¢× ×©×“×•×ª is_recurring ×•-recurring_type
- ×–×”×” ×ª×©×œ×•××™× (X ×-Y)
- ×–×”×” ×¢×¡×§××•×ª ×‘××˜"×— (×“×•×œ×¨/×™×•×¨×•) + ×¢××œ×•×ª + ×©×¢×¨ ×”××¨×”
- ×¡×•×•×’ ×œ×§×˜×’×•×¨×™×•×ª **××“×•×™×§×•×ª** ××”×¨×©×™××” - ×× ×œ× ×‘×˜×•×—, ×”×©××¨ null

ğŸš¨ **×›×œ×œ×™ ×¤×•×¨××˜ JSON - ×—×•×‘×”!** ğŸš¨
1. ×”×—×–×¨ **×¨×§ JSON ×ª×§×™×Ÿ** - ×œ× markdown, ×œ× ×”×¡×‘×¨×™×, ×œ× ×˜×§×¡×˜ × ×•×¡×£
2. ×”×ª×—×œ ×™×©×™×¨×•×ª ×¢× { ×•×¡×™×™× ×¢× }
3. **××™×Ÿ ×¤×¡×™×§×™× ××—×¨×™ ×”××œ×× ×˜ ×”××—×¨×•×Ÿ** ×‘-array ××• object:
   âœ… × ×›×•×Ÿ: ["a", "b", "c"]
   âŒ ×œ× × ×›×•×Ÿ: ["a", "b", "c",]
4. **Escape ×ª×•×•×™× ××™×•×—×“×™×** ×‘×ª×•×š strings:
   âœ… × ×›×•×Ÿ: "notes": "×ª×©×œ×•× - 2 ××ª×•×š 12"
   âœ… × ×›×•×Ÿ: "description": "×¡×•×¤×¨ ×¤××¨× ×ª\"×"
5. **××œ ×ª×©×‘×•×¨ strings** ×‘×××¦×¢ - ×›×œ string ×¦×¨×™×š ×œ×”×™×•×ª ×‘×©×•×¨×” ××—×ª
6. **××œ ×ª×•×¡×™×£ comments** ×‘×ª×•×š ×”-JSON

---

## **1. ××™×“×¢ ×›×œ×œ×™ (report_info)**
- report_date (×ª××¨×™×š ×”×¤×§×ª ×”×“×•×— - YYYY-MM-DD)
- period_start, period_end (×ª×§×•×¤×ª ×”×“×•×— - YYYY-MM-DD)
- card_issuer (×›××œ / ××§×¡ / ×™×©×¨××›×¨×˜ / ×œ××•××™ ×§××¨×“)

### **ğŸ”¥ ×–×™×”×•×™ ×ª××¨×™×›×™× - ×§×¨×™×˜×™!** ğŸ”¥
**×‘×“×•×—×•×ª ×›××œ ×™×© ×¤×•×¨××˜ ×ª××¨×™×›×™× ××™×•×—×“:**
- 52/80/11 = 11/08/2025 (DD/MM/YY)
- 52/80/01 = 01/08/2025
- 52/80/41 = 14/08/2025
- 52/01/01 = 01/10/2025

**×›×œ×œ ×©× ×” ×‘×ª 2 ×¡×¤×¨×•×ª:**
- ×× ×”×©× ×” > 50 â†’ 19XX (52 â†’ 2025, 99 â†’ 1999)
- ×× ×”×©× ×” <= 50 â†’ 20XX (25 â†’ 2025, 50 â†’ 2050)

**×—×©×•×‘:** ×”×‘×—×Ÿ ×‘×™×Ÿ "×ª××¨×™×š ×”×¢×¡×§×”" (×›××©×¨ ×‘×•×¦×¢×” ×”×¢×¡×§×”) ×œ"×ª××¨×™×š ×—×™×•×‘" (××ª×™ ×™×—×•×™×™×‘ ×‘×‘× ×§)

## **2. ××™×“×¢ ×¢×œ ×”×—×©×‘×•×Ÿ (account_info)**
- account_number (××¡×¤×¨ ×—×©×‘×•×Ÿ)
- card_last_digits (4 ×¡×¤×¨×•×ª ××—×¨×•× ×•×ª ×©×œ ×”×›×¨×˜×™×¡)
- card_holder (×©× ×‘×¢×œ ×”×›×¨×˜×™×¡)
- credit_limit (××¡×’×¨×ª ××©×¨××™ â‚ª)
- used_credit (× ×™×¦×•×œ ×‘×¤×•×¢×œ â‚ª)
- total_debt (×¡×š ×—×•×‘ â‚ª)

## **ğŸ”¥ 3. ××™×“×¢ ×—×™×•×‘ (billing_info) - ×§×¨×™×˜×™!**
- next_billing_date (××•×¢×“ ×”×—×™×•×‘ ×”×‘× ×‘×‘× ×§ - DD/MM/YYYY)
- next_billing_amount (×”×¡×›×•× ×©×™×—×•×™×™×‘ ×‘×‘× ×§ - ×œ×œ× ×¢×™×’×•×œ!)
- card_last_digits (4 ×¡×¤×¨×•×ª ××—×¨×•× ×•×ª - ×œ×–×™×”×•×™ ×”×—×™×•×‘ ×‘×‘× ×§)

**×—×©×•×‘ ×××•×“:**
- ×—×¤×© "××•×¢×“ ×—×™×•×‘" ××• "×ª××¨×™×š ×—×™×•×‘" ×‘×“×•×—
- ×—×¤×© "×¡×š ×œ×—×™×•×‘" ××• "×¡×›×•× ×œ×ª×©×œ×•×"
- ×–×” ×”××™×“×¢ ×©×™×¢×–×•×¨ ×œ×”×ª××™× ××ª ×”×—×™×•×‘ ×‘×“×•×— ×”×‘× ×§!

## **3. ×¢×¡×§××•×ª (transactions)**

### **4 ×¡×•×’×™ ×¢×¡×§××•×ª:**

**×. ×¨×’×™×œ** - ×¢×¡×§×” ×—×“-×¤×¢××™×ª:
- ×¡×•×¤×¨, ××¡×¢×“×”, ×‘× ×–×™×Ÿ ×•×›×•'

**×‘. ×ª×©×œ×•× X ×-Y** - ×¢×¡×§×” ××¤×•×¦×œ×ª:
- "×ª×©×œ×•× 1 ×-10" = ×ª×©×œ×•× ×¨××©×•×Ÿ ××ª×•×š 10
- ×—×©×•×‘: installment: "×ª×©×œ×•× 1 ×-10"
- payment_number: 1, total_payments: 10

**×’. ×§×¨×“×™×˜ X ×-Y** - ×§×¨×“×™×˜ ××¨×•×š ×˜×•×•×—:
- "×§×¨×“×™×˜ 3 ×-3" = ×ª×©×œ×•× ××—×¨×•×Ÿ
- ×—×©×•×‘: installment: "×§×¨×“×™×˜ 3 ×-3"
- payment_number: 3, total_payments: 3

**×“. ×”×•×¨××ª ×§×‘×¢** - ×—×™×•×‘ ×—×•×–×¨:
- ×§×¨×Ÿ ××›×‘×™, ×¤×¨×™ ×˜×™×•×™, Netflix, Spotify
- **×–×™×”×•×™:** ×›×ª×•×‘ "×”×•×¨××ª ×§×‘×¢" ××• "×œ× ×”×•×¨××ª ×§×‘×¢" ×‘×¤×™×¨×•×˜
- **×—×•×‘×” ×œ×”×•×¡×™×£:**
  - is_recurring: true (×× "×”×•×¨××ª ×§×‘×¢") ××• false (×× "×œ× ×”×•×¨××ª ×§×‘×¢")
  - recurring_type: "monthly" (×—×•×“×©×™), "quarterly" (×¨×‘×¢×•× ×™), "yearly" (×©× ×ª×™), ××• "other"

### **ğŸ”¥ ×©×“×•×ª ×œ×›×œ ×¢×¡×§×” - ×”×›×¨×—×™!**

**×©×“×•×ª ×—×•×‘×”:**
- date: ×ª××¨×™×š ×”×¢×¡×§×” (YYYY-MM-DD)
- vendor: ×©× ×‘×™×ª ×”×¢×¡×§ (×¢×‘×¨×™×ª ××• ×× ×’×œ×™×ª - **×›××• ×©×›×ª×•×‘ ×‘×“×•×—**)
  - ×“×•×’×××•×ª: "CURSOR USAGE JUL", "×¡×•×¤×¨ ×“×•×™×“×™", "OPENAI", "×§×¨×Ÿ ××›×‘×™"
- amount: ×¡×›×•× ×‘×©"×— (××¡×¤×¨ ×—×™×•×‘×™ ×ª××™×“!) - **×”×¡×›×•× ×©×—×•×™×™×‘ ×‘×¤×•×¢×œ ×‘×©×§×œ×™×**
- expense_category: ×§×˜×’×•×¨×™×” ××“×•×™×§×ª ××”××¡×“ × ×ª×•× ×™× (×¨××” ×¨×©×™××” ×œ××˜×”)
- expense_type: ×¡×•×’ ×”×”×•×¦××” (fixed/variable/special) - **×—×•×‘×” ×œ×§×—×ª ××”×§×˜×’×•×¨×™×” ×©×‘×—×¨×ª!**
- type: "expense" ××• "income" ×‘×œ×‘×“
- payment_method: credit_card

**×× ×ª×©×œ×•×/×§×¨×“×™×˜:**
- installment: "×ª×©×œ×•× 1 ×-10" (×”×¢×ª×§ ××“×•×™×§ ××”×“×•×—)
- payment_number: 1
- total_payments: 10

**ğŸŒ ×× ×¢×¡×§×” ×‘××˜"×— (×“×•×œ×¨/×™×•×¨×•/×•×›×•'):**
×—×¤×© ×‘×¤×™×¨×•×˜ ××ª ×”××™×“×¢ ×”×–×”:
- original_amount: ×”×¡×›×•× ×”××§×•×¨×™ ×‘××˜"×— (××¡×¤×¨ ×‘×œ×‘×“, ×œ×œ× ×¡×™××Ÿ $)
- original_currency: "USD" ××• "EUR" ××• "GBP" ××• "HKD" (×”×•× ×’ ×§×•× ×’) ×•×›×•'
- exchange_rate: ×©×¢×¨ ×”×—×œ×™×¤×™×Ÿ ×”××“×•×™×§ (××¡×¤×¨ ×¢×©×¨×•× ×™)
- forex_fee: ×¢××œ×ª ×”××¨×” ×‘×©×§×œ×™× (×‘×“×¨×š ×›×œ×œ 3% ××”×¡×›×•× ×”××§×•×¨×™)

**×“×•×’×××•×ª ××¤×•×¨×˜×•×ª ××‘×“×•×— ×›××œ ×××™×ª×™:**

**×“×•×’××” 1:**
"$19.00 ×œ× ×”×•×¨××ª ×§×‘×¢ ×”×•× ×’ ×§×•× ×’. ×‘-52/80/9 ×”×•××¨ ×œ×©"×— ×‘×©×¢×¨ ×™×¦×™×’ 3.534. ×•××¡×›×•× ×–×” × ×’×‘×ª×” ×¢××œ×ª ×¢×¡×§×” ×‘××˜"×— 3.00% ×‘×¡×š 1.69 ×©"×—. ×¡×›×•× ×—×™×•×‘: â‚ª67.22"
â†’ original_amount: 19.00, original_currency: "USD", exchange_rate: 3.534, forex_fee: 1.69, amount: 67.22

**×“×•×’××” 2:**
"$49.31 ×œ× ×”×•×¨××ª ×§×‘×¢ ××¨×¦×•×ª ×”×‘×¨×™×ª. ×‘-52/80/01 ×”×•××¨ ×œ×©"×— ×‘×©×¢×¨ ×™×¦×™×’ 3.534. ×•××¡×›×•× ×–×” × ×’×‘×ª×” ×¢××œ×ª ×¢×¡×§×” ×‘××˜"×— 3.00% ×‘×¡×š 5.80 ×©"×—. ×¡×›×•× ×—×™×•×‘: â‚ª174.46"
â†’ original_amount: 49.31, original_currency: "USD", exchange_rate: 3.534, forex_fee: 5.80, amount: 174.46

**×—×©×•×‘:** ×—×œ×¥ ××ª ×›×œ ×”×¤×¨×˜×™× - ×’× ×× ×—×œ×§× ×œ× ××•×¤×™×¢×™× ×‘×¤×™×¨×•×©, × ×¡×” ×œ×—×©×‘ ××•×ª×

${categoriesGuide}

### **ğŸ”´ expense_type - ×—×•×‘×” ×œ×¤×™ ×”×§×˜×’×•×¨×™×”!**
**×œ××—×¨ ×©×‘×—×¨×ª ×§×˜×’×•×¨×™×”, ×”×¢×ª×§ ××ª ×”-expense_type ×©×œ×”:**
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **×§×‘×•×¢×•×ª** â†’ expense_type: "fixed"
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **××©×ª× ×•×ª** â†’ expense_type: "variable"  
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **××™×•×—×“×•×ª** â†’ expense_type: "special"

**×“×•×’×××•×ª:**
- ×‘×—×¨×ª "×‘×™×˜×•×— ×—×™×™×" (××¨×©×™××ª ×§×‘×•×¢×•×ª) â†’ expense_type: "fixed"
- ×‘×—×¨×ª "××¡×¢×“×•×ª" (××¨×©×™××ª ××©×ª× ×•×ª) â†’ expense_type: "variable"
- ×‘×—×¨×ª "×¨×”×™×˜×™×" (××¨×©×™××ª ××™×•×—×“×•×ª) â†’ expense_type: "special"

### **ğŸ”´ ×§×¨×™×˜×™ - ×—×œ×¥ ×”×›×œ! ×“×•×’×××•×ª ××¤×™×¨×•×˜ ×××™×ª×™ ××‘×“×•×— ×›××œ:**

**âœ… ××™×¤×•×™ ×¢× ×£ â†’ ×§×˜×’×•×¨×™×” (××‘×“×•×— ×›××œ ×××™×ª×™):**
- **×¢× ×£ "××—×©×‘×™×"** â†’ OPENAI, CURSOR, VERCEL â†’ category: "×ª×•×›× ×” ×•×× ×•×™×™× ×“×™×’×™×˜×œ×™×™×", expense_type: "fixed"
- **×¢× ×£ "×× ×¨×’×™×”"** â†’ ×¤×– ××¤×œ×™×§×¦×™×™×ª ×™×™×œ×• â†’ category: "×“×œ×§", expense_type: "variable"
- **×¢× ×£ "×ª×™×™×¨×•×ª"** â†’ × ××™×™×§×¡ ×™×©×¨××œ ×—× ×™×•× ×™× â†’ category: "×ª×™×™×¨×•×ª ×•× ×¡×™×¢×•×ª", expense_type: "variable"
- **×¢× ×£ "××–×•×Ÿ ×•××©×§×"** â†’ ×”××ª×•×§×™×” ×‘×¢"× â†’ category: "××¡×¢×“×•×ª" ××• "×§× ×™×•×ª ×¡×•×¤×¨", expense_type: "variable"
- **×¢× ×£ "×¤× ××™ ×•×‘×™×œ×•×™"** â†’ ×—×™×œ×–×•×Ÿ ×‘×˜×‘×¢ ×‘×¢"× â†’ category: "×‘×™×“×•×¨", expense_type: "variable"
- **×¢× ×£ "×¨×¤×•××” ×•×‘×¨×™××•×ª"** â†’ ×§×¨×Ÿ ××›×‘×™ â†’ category: "×§×•×¤×ª ×—×•×œ×™×", expense_type: "fixed"
- **×¢× ×£ "×ª×§×©×•×¨×ª ×•××—"** â†’ ×¤×¨×™×˜×™×•×™ â†’ category: "×˜×œ×¤×•×Ÿ × ×™×™×“" ××• "××™× ×˜×¨× ×˜", expense_type: "fixed"

**âœ… ×¢×¡×§××•×ª ×¢×‘×¨×™×ª:**
- "×¡×•×¤×¨ ×“×•×™×“×™" â†’ category: "×§× ×™×•×ª ×¡×•×¤×¨", expense_type: "variable"
- "×©×•×¤×¨×¡×œ ×“×™×œ ×‘×¨× ×¢ ××©×§×œ×•×Ÿ" â†’ category: "×§× ×™×•×ª ×¡×•×¤×¨", expense_type: "variable"
- "×¤×– ××¤×œ×™×§×¦×™×™×ª ×™×™×œ×•" â†’ category: "×“×œ×§", expense_type: "variable"
- "×§×¨×Ÿ ××›×‘×™" (×”×•×¨××ª ×§×‘×¢) â†’ category: "×§×•×¤×ª ×—×•×œ×™×", expense_type: "fixed", is_recurring: true, recurring_type: "monthly"
- "×¤×¨×™ ×˜×™×•×™" (×”×•×¨××ª ×§×‘×¢) â†’ category: "××™× ×˜×¨× ×˜", expense_type: "fixed", is_recurring: true, recurring_type: "monthly"
- "×¤×œ××¤×•×Ÿ ×—×©×‘×•×Ÿ ×ª×§×•×¤×ª×™" (×”×•×¨××ª ×§×‘×¢) â†’ category: "×˜×œ×¤×•×Ÿ × ×™×™×“", expense_type: "fixed", is_recurring: true, recurring_type: "monthly"

**âœ… ×¢×¡×§××•×ª ×× ×’×œ×™×ª:**
- "CURSOR USAGE JUL" â†’ category: "×ª×•×›× ×” ×•×× ×•×™×™× ×“×™×’×™×˜×œ×™×™×", expense_type: "fixed"
- "OPENAI" â†’ category: "×ª×•×›× ×” ×•×× ×•×™×™× ×“×™×’×™×˜×œ×™×™×", expense_type: "fixed"
- "VERCEL INC." â†’ category: "×ª×•×›× ×” ×•×× ×•×™×™× ×“×™×’×™×˜×œ×™×™×", expense_type: "fixed"
- "Netflix.com" (×”×•×¨××ª ×§×‘×¢) â†’ category: "×‘×™×“×•×¨ (× ×˜×¤×œ×™×§×¡, ×¡×¤×•×˜×™×¤×™×™)", expense_type: "variable", is_recurring: true, recurring_type: "monthly"

**âœ… ×ª×©×œ×•××™×:**
- "×©×¤×™×¨× ×’×– ×‘×¢'× - ×ª×©×œ×•× 1 ×-2" â†’ installment: "×ª×©×œ×•× 1 ×-2", payment_number: 1, total_payments: 2
- "×—× ×•×ª - ×©×˜×¨××•×¡ ××™× - ×ª×©×œ×•× 27 ×-48" â†’ category: "××•×¦×¨×™ ×—×©××œ ×•×˜×›× ×•×œ×•×’×™×”", expense_type: "special"

**âœ… ×§×¨×“×™×˜:**
- "×’×‘×™×™×ª ××¢× ××™× ×˜×¨× ×˜ ×©×¢"× - ×§×¨×“×™×˜ 1 ×-3" â†’ installment: "×§×¨×“×™×˜ 1 ×-3"

---

## **×¤×•×¨××˜ ×¤×œ×˜ - JSON ×‘×œ×‘×“:**

ğŸš¨ **×©×“×” "type" - ×—×©×•×‘ ×××•×“!** ğŸš¨
×”×©×“×” type ×—×™×™×‘ ×œ×”×™×•×ª **×¨×§ ××—×“ ×××œ×”:**
- "expense" - ×œ×›×œ ×”×—×™×•×‘×™× (×ª×©×œ×•×, ×§×¨×“×™×˜, ×”×•×¨××ª ×§×‘×¢)
- "income" - ×œ×–×™×›×•×™×™×/×”×—×–×¨×™× ×‘×œ×‘×“

××œ ×ª×©×ª××© ×‘"×ª×©×œ×•×", "×§×¨×“×™×˜", "×”×•×¨××ª ×§×‘×¢" ×‘×©×“×” type!

×“×•×’××ª JSON:
{
  "report_info": {
    "report_date": "2025-09-15",
    "period_start": "2025-08-11",
    "period_end": "2025-09-10",
    "card_issuer": "×›××œ"
  },
  "account_info": {
    "card_last_digits": "3943",
    "card_holder": "×¢×™×“×• ×©×’×‘",
    "credit_limit": 49000.00,
    "used_credit": 16262.00,
    "total_debt": 15612.00
  },
  "billing_info": {
    "next_billing_date": "10/10/2025",
    "next_billing_amount": 2829.32,
    "card_last_digits": "3943"
  },
  "transactions": [
    {
      "date": "2025-08-21",
      "vendor": "×©×¤×™×¨× ×’×– ×‘×¢'×",
      "amount": 460.00,
      "expense_category": "×’×–",
      "expense_type": "fixed",
      "type": "expense",
      "installment": "×ª×©×œ×•× 1 ×-2",
      "payment_number": 1,
      "total_payments": 2,
      "payment_method": "credit_card",
      "is_recurring": false,
      "recurring_type": null
    }
  ]
}

---

**×”×“×•×—:**
${text}

---

**×—×©×•×‘**: 
- ×¡×›×•××™× ×ª××™×“ ×—×™×•×‘×™×™×
- ×ª××¨×™×›×™× ×‘×¤×•×¨××˜ YYYY-MM-DD
- ×—×œ×¥ **×›×œ** ×¢×¡×§×” - ×¢×‘×¨×™×ª ×•×× ×’×œ×™×ª
- ×–×”×” × ×›×•×Ÿ: ×¨×’×™×œ/×ª×©×œ×•×/×§×¨×“×™×˜/×”×•×¨××ª ×§×‘×¢`;
}

// ============================================================================
// 2ï¸âƒ£ ×“×•×— ×‘× ×§ (Bank Statement)
// ============================================================================

export function getBankStatementPrompt(
  text: string, 
  categories?: Array<{name: string; expense_type: string; category_group: string}>
): string {
  // Build categories guide from database
  let categoriesGuide = '';
  if (categories && categories.length > 0) {
    const fixed = categories.filter(c => c.expense_type === 'fixed');
    const variable = categories.filter(c => c.expense_type === 'variable');
    const special = categories.filter(c => c.expense_type === 'special');
    
    categoriesGuide = `
**×§×˜×’×•×¨×™×•×ª ×”×•×¦××•×ª ××¤×©×¨×™×•×ª (××”××¡×“ × ×ª×•× ×™×):**

**×§×‘×•×¢×•×ª (fixed):**
${fixed.map(c => `  â€¢ ${c.name} (${c.category_group})`).join('\n')}

**××©×ª× ×•×ª (variable):**
${variable.map(c => `  â€¢ ${c.name} (${c.category_group})`).join('\n')}

**××™×•×—×“×•×ª (special):**
${special.map(c => `  â€¢ ${c.name} (${c.category_group})`).join('\n')}

**×—×©×•×‘:** ×”×©×ª××© **×¨×§** ×‘×©××•×ª ×”××“×•×™×§×™× ××”×¨×©×™××” ×œ××¢×œ×”!
××œ ×ª××¦×™× ×§×˜×’×•×¨×™×•×ª ×—×“×©×•×ª - ×¨×§ ××”×¨×©×™××” ×”×–××ª.

ğŸš¨ **×§×¨×™×˜×™ - ×§×˜×œ×•×’ ×”×•×¦××•×ª!** ğŸš¨
1. ×”×©×ª××© **×¨×§** ×‘×§×˜×’×•×¨×™×•×ª ××”×¨×©×™××” ×œ××¢×œ×”
2. ×”×¢×ª×§ ××ª ×”×©× **×”××“×•×™×§** (×›×•×œ×œ ×¨×•×•×—×™× ×•××•×ª×™×•×ª)
3. ×× ×œ× ×‘×˜×•×— ××• ×©×”×§×˜×’×•×¨×™×” ×œ× ××•×¤×™×¢×” ×‘×¨×©×™××” - ×”×©××¨ expense_category: null
4. **××œ ×ª×©×ª××© ×‘"×œ× ××¡×•×•×’" - ×× ××™×Ÿ ×”×ª×××”, ×”×©××¨ null!**
5. ×”××©×ª××© ×™×‘×—×¨ ×§×˜×’×•×¨×™×” ×™×“× ×™×ª ×××•×—×¨ ×™×•×ª×¨

×“×•×’×××•×ª × ×›×•× ×•×ª:
âœ… "×§× ×™×•×ª ×¡×•×¤×¨" â†’ expense_category: "×§× ×™×•×ª ×¡×•×¤×¨"
âœ… "××¨× ×•× ×” ×œ××’×•×¨×™×" â†’ expense_category: "××¨× ×•× ×” ×œ××’×•×¨×™×"
âŒ "×§× ×™×•×ª ××–×•×Ÿ" (××™×Ÿ ×‘×˜×‘×œ×” - ×”×©××¨ expense_category: null)
`;
  }
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×“×•×—×•×ª ×‘× ×§ ×™×©×¨××œ×™×™×.

× ×ª×— ××ª ×“×•×— ×”×‘× ×§ ×”×‘× ×•×—×œ×¥ ××ª ×›×œ ×”××™×“×¢ ×”×¨×œ×•×•× ×˜×™ ×‘×¤×•×¨××˜ JSON.

ğŸš¨ **×›×œ×œ×™ ×¤×•×¨××˜ JSON - ×—×•×‘×”!** ğŸš¨
1. ×”×—×–×¨ **×¨×§ JSON ×ª×§×™×Ÿ** - ×œ× markdown, ×œ× ×”×¡×‘×¨×™×, ×œ× ×˜×§×¡×˜ × ×•×¡×£
2. ×”×ª×—×œ ×™×©×™×¨×•×ª ×¢× { ×•×¡×™×™× ×¢× }
3. **××™×Ÿ ×¤×¡×™×§×™× ××—×¨×™ ×”××œ×× ×˜ ×”××—×¨×•×Ÿ** ×‘-array ××• object:
   âœ… × ×›×•×Ÿ: ["a", "b", "c"]
   âŒ ×œ× × ×›×•×Ÿ: ["a", "b", "c",]
4. **Escape ×ª×•×•×™× ××™×•×—×“×™×** ×‘×ª×•×š strings:
   âœ… × ×›×•×Ÿ: "notes": "×”×›× ×¡×” - ×”×—×–×¨ ××¡"
   âœ… × ×›×•×Ÿ: "notes": "×™×ª×¨×” ×¢×œ×ª×” ×-39,663.41- ×œ-33,755.41-"
5. **××œ ×ª×©×‘×•×¨ strings** ×‘×××¦×¢ - ×›×œ string ×¦×¨×™×š ×œ×”×™×•×ª ×‘×©×•×¨×” ××—×ª
6. **××œ ×ª×•×¡×™×£ comments** ×‘×ª×•×š ×”-JSON

**××˜×¨×ª ×”×¢×œ:** ×œ×¡×¤×§ ×ª××•× ×” ×¤×™× × ×¡×™×ª ××œ××” ×©×œ ×”×—×©×‘×•×Ÿ + ×–×™×”×•×™ × ×›×•×Ÿ ×©×œ ×”×›× ×¡×•×ª/×”×•×¦××•×ª.

## **ğŸš¨ ×—×•×§ ×‘×¨×–×œ - ×¡×™×•×•×’ ×”×›× ×¡×•×ª/×”×•×¦××•×ª! ğŸš¨**

### **×©× ×™ ×©×œ×‘×™× × ×¤×¨×“×™×:**

---

### **×©×œ×‘ 1: ×”×× ×–×” income ××• expense?**
**ğŸ”¥ ×”×›×œ×œ ×”×¤×©×•×˜ ×•×”×‘×¨×•×¨ - ×ª×¡×ª×›×œ ×¢×œ ×”×¡×™××Ÿ ×©×œ ×”×¡×›×•×! ğŸ”¥**

**×›×œ×œ ×¨××©×™ - ×¤×©×•×˜ ×•×‘×¨×•×¨:**
- **×× ×”×¡×›×•× ××ª×—×™×œ ×‘××™× ×•×¡ (-)** â†’ type: "expense" âŒ (×”×•×¦××”)
- **×× ×”×¡×›×•× ×—×™×•×‘×™ ××• ××ª×—×™×œ ×‘×¤×œ×•×¡ (+)** â†’ type: "income" âœ… (×”×›× ×¡×”)

**×“×•×’×××•×ª ×‘×¨×•×¨×•×ª:**
- `-500.00` â†’ expense (×”×•×¦××” ×©×œ 500 ×©"×—)
- `2500.00` â†’ income (×”×›× ×¡×” ×©×œ 2500 ×©"×—)
- `+1000.00` â†’ income (×”×›× ×¡×” ×©×œ 1000 ×©"×—)
- `591.61-` â†’ expense (×”×•×¦××” ×©×œ 591.61 ×©"×—)

**3 ××¦×‘×™× ××¤×•×¨×˜×™× (×œ××§×¨×” ×©×™×© ×‘×¢×™×•×ª):**

**××¦×‘ 1: ×©×ª×™ ×¢××•×“×•×ª × ×¤×¨×“×•×ª - "×–×›×•×ª" ×•-"×—×•×‘×”"** (×‘× ×§ ×”×¤×•×¢×œ×™×, ×‘× ×§ ×œ××•××™)
- ×¡×›×•× ×‘×¢××•×“×ª **"×–×›×•×ª"** â†’ type: "income" âœ…
- ×¡×›×•× ×‘×¢××•×“×ª **"×—×•×‘×”"** â†’ type: "expense" âŒ

**××¦×‘ 2: ×¢××•×“×” ××—×ª "×–×›×•×ª/×—×•×‘×”"** (×‘× ×§ ×“×™×¡×§×•× ×˜)
- **××¡×¤×¨ ×—×™×•×‘×™ (+)** = ×–×›×•×ª â†’ type: "income" âœ…
- **××¡×¤×¨ ×©×œ×™×œ×™ (-)** = ×—×•×‘×” â†’ type: "expense" âŒ

**××¦×‘ 3: ××™×Ÿ ×¢××•×“×•×ª ×–×›×•×ª/×—×•×‘×”** (fallback)
- ×—×©×‘: balance_after - balance_before
- ×—×™×•×‘×™ (+) â†’ income
- ×©×œ×™×œ×™ (-) â†’ expense

**âš ï¸ ×—×©×•×‘: ×ª×¡×ª×›×œ ×ª××™×“ ×§×•×“× ×¢×œ ×”×¡×™××Ÿ ×©×œ ×”×¡×›×•× - ×–×” ×”×›×œ×œ ×”×¤×©×•×˜ ×‘×™×•×ª×¨!**

---

### **×©×œ×‘ 2: ××” ×”×§×˜×’×•×¨×™×”?**
**ğŸ” ×¢×›×©×™×• ×›×Ÿ ×ª×¡×ª×›×œ ×¢×œ ×”×ª×™××•×¨ ×•×”×¡×¤×§!**

**×–×™×”×•×™ ×§×˜×’×•×¨×™×•×ª ×—×©×•×‘×•×ª:**

**×”×œ×•×•××•×ª (loan_payment):**
- ×–×™×”×•×™: "×¤×™×¨×¢×•×Ÿ ×”×œ×•×•××”", "×”×œ×•×•××”", "××©×›× ×ª×", "loan"
- **lender_name = report_info.bank_name (×”×‘× ×§ ×©×‘×“×•×—!)** ×œ× ××” ×©×›×ª×•×‘ ×‘×ª×™××•×¨!
- ğŸ¯ **×›×œ×œ:** ×“×•×— ××‘× ×§ X â†’ ×›×œ ×”×”×œ×•×•××•×ª ×”×Ÿ ×œ×‘× ×§ X
- ×“×•×’××”: report_info.bank_name = "×‘× ×§ ×“×™×¡×§×•× ×˜" + "×¤×™×¨×¢×•×Ÿ ×”×œ×•×•××” 123456" â†’ lender_name: "×‘× ×§ ×“×™×¡×§×•× ×˜"
- ×“×•×’××”: report_info.bank_name = "×‘× ×§ ×œ××•××™" + "×ª×©×œ×•× ×”×œ×•×•××”" â†’ lender_name: "×‘× ×§ ×œ××•××™"
- **×—×¨×™×’ × ×“×™×¨:** ×× ×›×ª×•×‘ ×‘×¤×™×¨×•×© ×‘× ×§ ××—×¨, ×œ××©×œ "×‘× ×§ ×”×¤×•×¢×œ×™× - ×”×œ×•×•××”" â†’ lender_name: "×‘× ×§ ×”×¤×•×¢×œ×™×"

**××™×¡×™×:**
- "××¡ ×”×›× ×¡×”" â†’ category: ×× income â†’ "×”×—×–×¨ ××¡", ×× expense â†’ "××™×¡×™×"
- "×‘×™×˜×•×— ×œ××•××™" â†’ category: ×× income â†’ "×’××œ××•×ª", ×× expense â†’ "××™×¡×™×"

**×›×¨×˜×™×¡×™ ××©×¨××™:**
- "×•×™×–×", "×××¡×˜×¨×§××¨×“" â†’ category: "×›×¨×˜×™×¡ ××©×¨××™"

**×”×¢×‘×¨×•×ª:**
- ×”×¢×‘×¨×” × ×›× ×¡×ª â†’ category: "×”×¢×‘×¨×” × ×›× ×¡×ª"
- ×”×¢×‘×¨×” ×™×•×¦××ª â†’ category: "×”×¢×‘×¨×” ×™×•×¦××ª"

**××—×¨:**
- ×”×©×ª××© ×‘×§×˜×’×•×¨×™×•×ª ××”××¢×¨×›×ª (expense_categories ×©×¡×•×¤×§×•)
- ××• ×ª×Ÿ ×©× ×ª×™××•×¨×™ ××ª××™×

### **ğŸ”´ expense_type - ×—×•×‘×” ×œ×¤×™ ×”×§×˜×’×•×¨×™×”!**
**×œ××—×¨ ×©×‘×—×¨×ª ×§×˜×’×•×¨×™×”, ×”×¢×ª×§ ××ª ×”-expense_type ×©×œ×”:**
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **×§×‘×•×¢×•×ª** â†’ expense_type: "fixed"
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **××©×ª× ×•×ª** â†’ expense_type: "variable"  
- ×× ×‘×—×¨×ª ×§×˜×’×•×¨×™×” ××¨×©×™××ª **××™×•×—×“×•×ª** â†’ expense_type: "special"

**×“×•×’×××•×ª:**
- ×‘×—×¨×ª "×‘×™×˜×•×— ×—×™×™×" (××¨×©×™××ª ×§×‘×•×¢×•×ª) â†’ expense_type: "fixed"
- ×‘×—×¨×ª "××¡×¢×“×•×ª" (××¨×©×™××ª ××©×ª× ×•×ª) â†’ expense_type: "variable"
- ×‘×—×¨×ª "×¨×”×™×˜×™×" (××¨×©×™××ª ××™×•×—×“×•×ª) â†’ expense_type: "special"

### **2. ×¡×›×•××™×:**
- **×ª××™×“ ×”×—×–×¨ ××¡×¤×¨ ×—×™×•×‘×™ (×œ×œ× ××™× ×•×¡)**
- ×× ×›×ª×•×‘ "-500" â†’ ×–×• ×”×•×¦××” ×©×œ 500 (amount: 500, type: "expense")
- ×× ×›×ª×•×‘ "500" ×–×›×•×ª â†’ ×–×• ×”×›× ×¡×” ×©×œ 500 (amount: 500, type: "income")

### **3. ×××¦×¢×™ ×ª×©×œ×•× (payment_method) - ×—×•×‘×” ×‘×× ×’×œ×™×ª!**
**ğŸš¨ ×ª××™×“ ×”×©×ª××© ×‘×× ×’×œ×™×ª - ×œ× ×‘×¢×‘×¨×™×ª! ğŸš¨**

××¤×©×¨×•×™×•×ª:
- **bank_transfer** (×”×¢×‘×¨×” ×‘× ×§××™×ª)
- **credit_card** (×›×¨×˜×™×¡ ××©×¨××™)
- **debit_card** (×›×¨×˜×™×¡ ×—×™×•×‘)
- **direct_debit** (×—×™×•×‘ ×™×©×™×¨ / ×”×•×¨××ª ×§×‘×¢)
- **standing_order** (×”×•×¨××ª ×§×‘×¢)
- **cash** (××–×•××Ÿ)
- **check** (×”××—××”)
- **bit** (×‘×™×˜)
- **paybox** (×¤×™×™×‘×•×§×¡)
- **paypal** (×¤×™×™×¤××œ)
- **digital_wallet** (××¨× ×§ ×“×™×’×™×˜×œ×™)
- **other** (××—×¨)

### **4. ×ª×–×¨×™× (Account Info):**
- ×—×¤×© "×™×ª×¨×”", "×™×ª×¨×ª ×—×©×‘×•×Ÿ", "×¡×’×™×¨×”", "balance"
- ×—×¤×© "××¡×’×¨×ª ××©×¨××™", "overdraft", "××¡×’×¨×ª"
- ×—×¤×© "×¡×›×•× ×–××™×Ÿ", "available", "×–××™×Ÿ"
- **current_balance** = ×”×™×ª×¨×” ×”×¡×•×’×¨×ª ×”××“×•×™×§×ª (×™×›×•×œ×” ×œ×”×™×•×ª ×©×œ×™×œ×™×ª!)

## **1. ××™×“×¢ ×›×œ×œ×™ ×¢×œ ×”×“×•×— (report_info):**
- ×ª××¨×™×š ×”×¤×§×ª ×”×“×•×— (report_date - YYYY-MM-DD)
- ×ª×§×•×¤×ª ×”×“×•×— (period_start, period_end - YYYY-MM-DD)
- ×©× ×”×‘× ×§ (bank_name) - "×‘× ×§ ×œ××•××™", "×‘× ×§ ×”×¤×•×¢×œ×™×", "×‘× ×§ ×“×™×¡×§×•× ×˜" ×•×›×•'

## **2. ××™×“×¢ ×¢×œ ×”×—×©×‘×•×Ÿ (account_info):**
- ××¡×¤×¨ ×—×©×‘×•×Ÿ (account_number)
- ×¡×•×’ ×—×©×‘×•×Ÿ (account_type) - "×¢×•×´×©", "×—×™×¡×›×•×Ÿ", "×¢×¡×§×™"
- ××¡×¤×¨ ×¡× ×™×£ (branch_number) - ×× ××•×¤×™×¢
- **current_balance** - **×”×™×ª×¨×” ×”× ×•×›×—×™×ª ×”××“×•×™×§×ª** (×™×›×•×œ×” ×œ×”×™×•×ª ×©×œ×™×œ×™×ª!)
- available_balance - ×× ×©×•× ×” (×›×•×œ×œ ××¡×’×¨×ª)
- overdraft_limit - ××¡×’×¨×ª ××©×¨××™ ×× ×™×©

## **3. ×ª× ×•×¢×•×ª ×œ×¤×™ ×¡×•×’ (transactions):**

### **×”×›× ×¡×•×ª (income)** - ×›×œ ×–×›×•×ª:
- ××©×›×•×¨×ª
- ×”×¢×‘×¨×•×ª ×©×§×™×‘×œ×ª×™
- ×”×—×–×¨×™ ××¡
- ×’××œ××•×ª
- ×”×›× ×¡×•×ª ××”×©×§×¢×•×ª
- ×“×™×‘×™×“× ×“×™×
- ×‘×™×˜×•×œ ×—×™×•×‘
- **×›×œ×œ: ×›×œ ×ª× ×•×¢×” ×¢× ×¡×™××Ÿ (+) ××• "×–×›×•×ª"**

${categoriesGuide}

### **×”×•×¦××•×ª (expense)** - ×›×œ ×—×™×•×‘ ×©××§×˜×™×Ÿ ××ª ×”×™×ª×¨×”:
- ×§× ×™×•×ª
- ×—×©×‘×•× ×•×ª (×—×©××œ, ××™×, ××¨× ×•× ×”, ×˜×œ×¤×•×Ÿ)
- ×”×¢×‘×¨×•×ª ×©×¢×©×™×ª×™ (×’× ×œ×—×©×‘×•× ×•×ª ××—×¨×™× ×©×œ×™!)
- ××©×™×›×•×ª ××–×•××Ÿ
- ×¢××œ×•×ª
- **×›×œ×œ: ×›×œ ×ª× ×•×¢×” ×¢× ×¡×™××Ÿ (-) ××• "×—×™×•×‘"**

**×—×¨×™×’×™× ××™×•×—×“×™×:**

### **×”×œ×•×•××•×ª (loan_payment)** - ×–×™×”×•×™ ×œ×¤×™ ×ª×™××•×¨:
- "×‘× ×§ ×œ××•××™/×“×™×¡×§×•× ×˜/××–×¨×—×™ - ×”×œ×•×•××”"
- "×”×—×–×¨ ×”×œ×•×•××”"
- "×”×—×–×¨ ××©×›× ×ª×"
- ×× ×™×© ×¤×™×¨×•×˜ ×§×¨×Ÿ ×•×¨×™×‘×™×ª - ×—×œ×¥ ××•×ª×
- **×¡×•×•×’ ×›-expense ××‘×œ ×ª×¢×“ ×‘× ×¤×¨×“**

### **×—×™×¡×›×•×Ÿ (savings_transfer)** - ×–×™×”×•×™ ×œ×¤×™ ×ª×™××•×¨:
- "×”×¢×‘×¨×” ×œ×¤×™×§×“×•×Ÿ"
- "×”×¢×‘×¨×” ×œ×—×™×¡×›×•×Ÿ"
- "×§×¨×Ÿ ×”×©×ª×œ××•×ª"
- "×§×•×¤×ª ×’××œ"
- **×¡×•×•×’ ×›-expense ××‘×œ ×ª×¢×“ ×‘× ×¤×¨×“**

## **×¤×•×¨××˜ JSON:**
{
  "report_info": {
    "report_date": "01/11/2025",
    "period_start": "01/10/2025",
    "period_end": "31/10/2025",
    "bank_name": "×‘× ×§ ×”×¤×•×¢×œ×™×"
  },
  "account_info": {
    "account_number": "123-456789",
    "account_name": "×—×©×‘×•×Ÿ ×¢×•×´×©",
    "account_type": "checking",
    "branch_number": "682",
    "opening_balance": 15000.00,
    "current_balance": 12000.00,
    "available_balance": 14000.00,
    "overdraft_limit": 2000.00
  },
  "transactions": {
    "income": [
      {
        "date": "05/10/2025",
        "description": "××©×›×•×¨×ª",
        "vendor": "××¢×¡×™×§",
        "amount": 10000.00,
        "balance_before": 5000.00,
        "balance_after": 15000.00,
        "category": "×”×›× ×¡×” ××¢×‘×•×“×”",
        "payment_method": "bank_transfer",
        "notes": "×”×›× ×¡×” - ×™×ª×¨×” ×¢×œ×ª×” ×-5000 ×œ-15000"
      }
    ],
    "expenses": [
      {
        "date": "02/10/2025",
        "description": "×§× ×™×•×ª ×‘×¡×•×¤×¨",
        "vendor": "×¡×•×¤×¨ ×“×•×™×“×™",
        "amount": 350.00,
        "balance_before": 15000.00,
        "balance_after": 14650.00,
        "category": "×¡×•×¤×¨××¨×§×˜",
        "expense_type": "variable",
        "payment_method": "credit_card",
        "notes": "×”×•×¦××” - ×™×ª×¨×” ×™×¨×“×” ×-15000 ×œ-14650"
      }
    ],
    "loan_payments": [
      {
        "date": "15/10/2025",
        "description": "×”×—×–×¨ ×”×œ×•×•××” ×‘× ×§ ×œ××•××™",
        "vendor": "×‘× ×§ ×œ××•××™",
        "amount": 2000.00,
        "balance_before": 14650.00,
        "balance_after": 12650.00,
        "principal": 1500.00,
        "interest": 500.00,
        "loan_provider": "×‘× ×§ ×œ××•××™",
        "payment_method": "direct_debit",
        "notes": "×ª×©×œ×•× ×”×œ×•×•××”"
      }
    ],
    "savings_transfers": [
      {
        "date": "15/10/2025",
        "description": "×”×¢×‘×¨×” ×œ×¤×™×§×“×•×Ÿ",
        "vendor": "×”×¢×‘×¨×” ×¤× ×™××™×ª",
        "amount": 1000.00,
        "balance_before": 12650.00,
        "balance_after": 11650.00,
        "to_account": "×¤×™×§×“×•×Ÿ",
        "payment_method": "bank_transfer",
        "notes": "×”×¢×‘×¨×” ×œ×—×™×¡×›×•×Ÿ"
      }
    ]
  }
}

**×”×“×•×—:**
${text}`;
}

// ============================================================================
// 3ï¸âƒ£ ×“×•×— ×”×œ×•×•××•×ª ×¨×’×™×œ (Loan Statement)
// ============================================================================

export function getLoanStatementPrompt(text: string): string {
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×“×•×—×•×ª ×”×œ×•×•××•×ª ×™×©×¨××œ×™×™×.

× ×ª×— ××ª ×“×•×— ×”×”×œ×•×•××•×ª ×”×‘× ×•×—×œ×¥ ××ª ×›×œ ×”××™×“×¢ ×”×¨×œ×•×•× ×˜×™ ×‘×¤×•×¨××˜ JSON.

**××˜×¨×ª ×”×¢×œ:** ×œ×¡×¤×§ ×ª××•× ×” ×¤×™× × ×¡×™×ª ××œ××” ×©×œ ×”×”×œ×•×•××•×ª.

## **1. ××™×“×¢ ×›×œ×œ×™ ×¢×œ ×”×“×•×— (report_info):**
- ×ª××¨×™×š ×”×“×•×— (date - DD/MM/YYYY)
- ×©× ×”×œ×§×•×— (customer_name)
- ×¡× ×™×£ (branch)
- ×¡×”"×› ×™×ª×¨×ª ×—×•×‘ (total_outstanding_debt)
- ×¡×”"×› ×”×—×–×¨ ×—×•×“×©×™ (total_monthly_payment)

## **2. ×¤×™×¨×•×˜ ×”×œ×•×•××•×ª (loans):**
×¢×‘×•×¨ ×›×œ ×”×œ×•×•××”, ×—×œ×¥:
- ××¡×¤×¨ ×”×œ×•×•××” (loan_number)
- ×©×/×¡×•×’ ×”×œ×•×•××” (loan_name) - "×”×œ×•××” ×œ× ×¦××•×“×”", "×”×œ×•××” ×¦××•×“×” ×œ××“×“" ×•×›×•'
- ×¦××“×•×ª (index_type) - "×œ× ×¦××•×“", "×¦××•×“ ×œ××“×“", "×¦××•×“ ×œ×“×•×œ×¨"
- ×¡×›×•× ×”×œ×•×•××” ××§×•×¨×™ (original_amount)
- ×™×ª×¨×ª ×—×•×‘ × ×•×›×—×™×ª (current_balance)
- ×¨×™×‘×™×ª ×©× ×ª×™×ª (interest_rate) - ×¨×§ ×”××¡×¤×¨ (×œ×“×•×’××”: 7.75)
- ×”×—×–×¨ ×—×•×“×©×™ ×§×‘×•×¢ (monthly_payment) - **×”×¡×›×•× ×©××©×•×œ× ×›×œ ×—×•×“×©**
- ×ª×©×œ×•××™× ×©×©×•×œ××• (paid_payments) - ××¡×¤×¨
- ×ª×©×œ×•××™× ×©× ×•×ª×¨×• (remaining_payments) - ××¡×¤×¨
- ×ª××¨×™×š ×ª×©×œ×•× ×”×‘× (next_payment_date - DD/MM/YYYY) - ×× ××•×¤×™×¢

**×¤×•×¨××˜ JSON ×‘×œ×‘×“ - ×œ×œ× ×˜×§×¡×˜ × ×•×¡×£:**
{
  "report_info": {
    "date": "29/10/2025",
    "customer_name": "×œ×™×‘×•×‘×™×¥ ××™×œ× ×™×ª, ×©×’×‘ ×¢×™×“×•",
    "branch": "×¡× ×™×£ ××©×§×œ×•×Ÿ",
    "total_outstanding_debt": 99630.03,
    "total_monthly_payment": 2024.34
  },
  "loans": [
    {
      "loan_number": "0-128-0155-00-978020",
      "loan_name": "×”×œ×•××” ×œ× ×¦××•×“×” ×‘×¨×‘×™×ª ××©×ª× ×”",
      "index_type": "×œ× ×¦××•×“",
      "original_amount": 120000.00,
      "current_balance": 89677.33,
      "interest_rate": 7.75,
      "monthly_payment": 1432.73,
      "paid_payments": 80,
      "remaining_payments": 40,
      "next_payment_date": "15/11/2025"
    }
  ]
}

**×”×“×•×—:**
${text}`;
}

// ============================================================================
// 4ï¸âƒ£ ×“×•×— ××©×›× ×ª× (Mortgage Statement)
// ============================================================================

export function getMortgageStatementPrompt(text: string): string {
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×“×•×—×•×ª ××©×›× ×ª××•×ª ×™×©×¨××œ×™×•×ª.

× ×ª×— ××ª ×“×•×— ×”××©×›× ×ª× ×”×‘× ×•×—×œ×¥ ××ª ×›×œ ×”××™×“×¢ ×”×¨×œ×•×•× ×˜×™ ×‘×¤×•×¨××˜ JSON.

**×”×‘× ×”:** ××©×›× ×ª× = ××¡×¤×¨ ××¡×œ×•×œ×™×. ×›×œ ××¡×œ×•×œ = ×”×œ×•×•××” × ×¤×¨×“×ª.

## **1. ××™×“×¢ ×›×œ×œ×™ (report_info):**
- ×ª××¨×™×š ×”×“×•×— (date - DD/MM/YYYY)
- ×©× ×”×œ×§×•×— (customer_name)
- ××¡×¤×¨ × ×›×¡/×›×ª×•×‘×ª (property_address)
- ×¡×”"×› ×—×•×‘ ××©×›× ×ª× (total_debt)
- ×¡×”"×› ×”×—×–×¨ ×—×•×“×©×™ (total_monthly_payment)

## **2. ×¤×™×¨×•×˜ ××¡×œ×•×œ×™× (tracks):**
×¢×‘×•×¨ ×›×œ ××¡×œ×•×œ, ×—×œ×¥:
- ××¡×¤×¨ ××¡×œ×•×œ (track_number)
- ×¡×•×’ ××¡×œ×•×œ (track_type) - "×§×‘×•×¢×” ×œ× ×¦××•×“×”", "××©×ª× ×” ×›×œ 5 ×©× ×™×", "×¤×¨×™×™×" ×•×›×•'
- ×¦××“×•×ª (index_type) - "×œ× ×¦××•×“", "×¦××•×“ ×œ××“×“"
- ×¡×›×•× ××§×•×¨×™ (original_amount)
- ×™×ª×¨×” × ×•×›×—×™×ª (current_balance)
- ×¨×™×‘×™×ª ×©× ×ª×™×ª (interest_rate) - ×¨×§ ×”××¡×¤×¨ (×œ×“×•×’××”: 2.5)
- ×”×—×–×¨ ×—×•×“×©×™ ×§×‘×•×¢ (monthly_payment) - **×”×¡×›×•× ×©××©×•×œ× ×›×œ ×—×•×“×©**
- ×ª×©×œ×•××™× ×©×©×•×œ××• (paid_payments) - ××¡×¤×¨
- ×ª×©×œ×•××™× ×©× ×•×ª×¨×• (remaining_payments) - ××¡×¤×¨
- ×ª××¨×™×š ×ª×©×œ×•× ×”×‘× (next_payment_date - DD/MM/YYYY) - ×× ××•×¤×™×¢

**×¤×•×¨××˜ JSON ×‘×œ×‘×“ - ×œ×œ× ×˜×§×¡×˜ × ×•×¡×£:**
{
  "report_info": {
    "date": "29/10/2025",
    "customer_name": "×©×’×‘ ×¢×™×“×•",
    "property_address": "×¨×—×•×‘ ×”×“×§×œ 12, ×ª×œ ××‘×™×‘",
    "total_debt": 1770000.00,
    "total_monthly_payment": 8500.00
  },
  "tracks": [
    {
      "track_number": "1",
      "track_type": "×§×‘×•×¢×” ×œ× ×¦××•×“×”",
      "index_type": "×œ× ×¦××•×“",
      "original_amount": 500000.00,
      "current_balance": 450000.00,
      "interest_rate": 2.5,
      "monthly_payment": 2000.00,
      "paid_payments": 60,
      "remaining_payments": 180,
      "next_payment_date": "01/12/2025"
    },
    {
      "track_number": "2",
      "track_type": "××©×ª× ×” ×›×œ 5 ×©× ×™×",
      "index_type": "×¦××•×“ ×œ××“×“",
      "original_amount": 800000.00,
      "current_balance": 750000.00,
      "interest_rate": 1.8,
      "monthly_payment": 3500.00,
      "paid_payments": 100,
      "remaining_payments": 200,
      "next_payment_date": "01/12/2025"
    }
  ]
}

**×”×“×•×—:**
${text}`;
}

// ============================================================================
// 5ï¸âƒ£ ×“×•×— ×‘×™×˜×•×—×™× (Insurance Statement - "×”×¨ ×”×‘×™×˜×•×—")
// ============================================================================

export function getInsuranceStatementPrompt(text: string): string {
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×“×•×—×•×ª "×”×¨ ×”×‘×™×˜×•×—" - ××¨×©× ×”×‘×™×˜×•×—×™× ×”×œ××•××™ ×©×œ ××©×¨×“ ×”××•×¦×¨.

× ×ª×— ××ª ×“×•×— ×”×‘×™×˜×•×—×™× ×”×‘× ×•×—×œ×¥ ××ª **×›×œ ×”×¤×•×œ×™×¡×•×ª**.

## **××” ×œ×—×œ×¥:**

### **1. ××™×“×¢ ×›×œ×œ×™**
- ×ª××¨×™×š ×”×¤×§×ª ×”×“×•×— (report_date)
- ×ª×¢×•×“×ª ×–×”×•×ª (id_number)

### **2. ×¤×•×œ×™×¡×•×ª ×‘×™×˜×•×—**
×”×“×•×— ××—×•×œ×§ ×œ×ª×—×•××™×. ×¢×‘×•×¨ ×›×œ ×¤×•×œ×™×¡×” ×—×œ×¥:

**×©×“×•×ª ×—×•×‘×”:**
- ×ª×—×•× (domain) - "×›×œ×œ×™", "×‘×¨×™××•×ª ×•×ª××•× ×•×ª ××™×©×™×•×ª", "×—×™×™× ×•××‘×“×Ÿ ×›×•×©×¨ ×¢×‘×•×“×”"
- ×¢× ×£ ×¨××©×™ (main_branch) - "×‘×™×˜×•×— ×“×™×¨×”", "×‘×™×˜×•×— ×‘×¨×™××•×ª", "×‘×™×˜×•×— ×¡×™×¢×•×“×™" ×•×›×•'
- ×¢× ×£ ××©× ×™ (sub_branch) - "××‘× ×” ×•×ª×›×•×œ×”", "× ×™×ª×•×—×™× ××©×œ×™×", "×¡×™×¢×•×“×™ ×¢×“ 3 ×—×•×“×©×™×" ×•×›×•'
- ×¡×•×’ ××•×¦×¨ (product_type) - "×¤×•×œ×™×¡×ª ×‘×™×˜×•×—", "×ª×›× ×™×ª ×‘×™×˜×•×—" ×•×›×•'
- ×—×‘×¨×” (insurance_company) - ×©× ×”×—×‘×¨×” ×”××‘×˜×—×ª
- ×ª×§×•×¤×ª ×‘×™×˜×•×— (coverage_period) - ×ª××¨×™×›×™× ××• "×œ×›×œ ×”×—×™×™×"
- ×¤×¨××™×” ×‘×©"×— (premium_amount) - ×¡×›×•× ×”×¤×¨××™×”
- ×¡×•×’ ×¤×¨××™×” (premium_type) - "×©× ×ª×™×ª", "×—×•×“×©×™×ª", "×—×“ ×¤×¢××™×ª"

**×©×“×•×ª ××•×¤×¦×™×•× ×œ×™×™× (×× ×™×©):**
- ××¡×¤×¨ ×¤×•×œ×™×¡×” (policy_number)
- ×¡×™×›×•×™/×ª×•×›×Ÿ (coverage_details)

## **×¤×•×¨××˜ JSON:**
{
  "report_info": {
    "report_date": "29/10/2025",
    "id_number": "300700556",
    "source": "×”×¨ ×”×‘×™×˜×•×— - ××©×¨×“ ×”××•×¦×¨"
  },
  "insurance_policies": [
    {
      "domain": "×›×œ×œ×™",
      "main_branch": "×‘×™×˜×•×— ×“×™×¨×”",
      "sub_branch": "××‘× ×” ×•×ª×›×•×œ×”",
      "product_type": "×¤×•×œ×™×¡×ª ×‘×™×˜×•×—",
      "insurance_company": "××™×™.×“×™.××™×™. ×—×‘×¨×” ×œ×‘×™×˜×•×— ×‘×¢\\"×",
      "coverage_period": "01/05/2025 - 30/04/2026",
      "premium_amount": 4554.00,
      "premium_type": "×©× ×ª×™×ª",
      "policy_number": "1528021603"
    }
  ],
  "summary": {
    "total_policies": 10,
    "total_annual_premium": 15000.00,
    "by_domain": {
      "×›×œ×œ×™": 1,
      "×‘×¨×™××•×ª ×•×ª××•× ×•×ª ××™×©×™×•×ª": 5,
      "×—×™×™× ×•××‘×“×Ÿ ×›×•×©×¨ ×¢×‘×•×“×”": 4
    }
  }
}

**×”×“×•×—:**
${text}

**×—×œ×¥ ××ª ×›×œ ×”×¤×•×œ×™×¡×•×ª - ×’× ×× ××™×Ÿ ×¤×¨××™×”!**`;
}

// ============================================================================
// 6ï¸âƒ£ ×ª×œ×•×© ×©×›×¨ (Payslip / Salary Slip)
// ============================================================================

export function getPayslipPrompt(text: string): string {
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×ª×œ×•×©×™ ×©×›×¨ ×™×©×¨××œ×™×™×.

× ×ª×— ××ª ×ª×œ×•×© ×”×©×›×¨ ×”×‘× ×•×—×œ×¥ ××ª **×›×œ ×”××™×“×¢ ×”×¨×œ×•×•× ×˜×™**.

## **××” ×œ×—×œ×¥:**

### **1. ××™×“×¢ ×›×œ×œ×™ (payslip_info):**
- ×©× ×”××¢×¡×™×§ (employer_name)
- ×—.×¤. ××¢×¡×™×§ (employer_id) - ×× ××•×¤×™×¢
- ×©× ×”×¢×•×‘×“ (employee_name)
- ×ª×¢×•×“×ª ×–×”×•×ª ×¢×•×‘×“ (employee_id)
- ×—×•×“×© ×•×©× ×” (month_year) - ×¤×•×¨××˜: "MM/YYYY" ××• "××•×§×˜×•×‘×¨ 2025"
- ×ª××¨×™×š ×ª×©×œ×•× (pay_date - DD/MM/YYYY) - ×× ××•×¤×™×¢
- ××¡×¤×¨ ×ª×œ×•×© (payslip_number) - ×× ××•×¤×™×¢

### **2. ×¨×›×™×‘×™ ×©×›×¨ (salary_components):**

**×”×›× ×¡×”:**
- ×©×›×¨ ×‘×¨×•×˜×• (gross_salary) - **×¡×”"×› ×‘×¨×•×˜×• ×œ×¤× ×™ ×”×¤×¨×©×•×ª ×•× ×™×›×•×™×™×**
- ×©×›×¨ ×‘×¡×™×¡ (base_salary)
- ×©×¢×•×ª × ×•×¡×¤×•×ª (overtime_hours, overtime_pay) - ×× ×™×©
- ×‘×•× ×•×¡×™× (bonus) - ×× ×™×©
- ×ª×•×¡×¤×•×ª ××—×¨×•×ª (allowances) - × ×¡×™×¢×•×ª, ××•×›×œ, ×˜×œ×¤×•×Ÿ ×•×›×•'

**× ×™×›×•×™×™× ×•×§×¦×‘××•×ª:**
- × ×™×›×•×™ ××¡ ×”×›× ×¡×” (tax_deducted / mas_hachnasa)
- ×‘×™×˜×•×— ×œ××•××™ (social_security / bituach_leumi)
- ××¡ ×‘×¨×™××•×ª (health_tax / briut_tax)
- ×¤× ×¡×™×” - ×¢×•×‘×“ (pension_employee)
- ×¤× ×¡×™×” - ××¢×¡×™×§ (pension_employer)
- ×§×¨×Ÿ ×”×©×ª×œ××•×ª - ×¢×•×‘×“ (advanced_study_fund_employee / keren_hishtalmut_employee)
- ×§×¨×Ÿ ×”×©×ª×œ××•×ª - ××¢×¡×™×§ (advanced_study_fund_employer / keren_hishtalmut_employer)
- ×‘×™×˜×•×— ×× ×”×œ×™× (managers_insurance) - ×× ×™×©
- ×’××œ/×¤× ×¡×™×” ××§×™×¤×” (provident_fund) - ×× ×™×©

**×¡×”"×›:**
- ×©×›×¨ × ×˜×• (net_salary) - **×”×¡×›×•× ×©××•×¢×‘×¨ ×œ×—×©×‘×•×Ÿ ×”×‘× ×§**

### **3. ×¤×™×¨×•×˜ ×¤× ×¡×™×” ×•×—×™×¡×›×•×Ÿ (pension_details):**
×× ×™×© ×¤×™×¨×•×˜, ×—×œ×¥:
- ×©× ×§×•×¤×ª ×¤× ×¡×™×”/×’××œ (fund_name)
- ××¡×¤×¨ ×ª×•×›× ×™×ª (policy_number)
- ××—×•×– ×”×¤×§×“×” ×¢×•×‘×“ (employee_percentage)
- ××—×•×– ×”×¤×§×“×” ××¢×¡×™×§ (employer_percentage)

## **×¤×•×¨××˜ JSON:**
{
  "payslip_info": {
    "employer_name": "×—×‘×¨×ª ×”×™×™×˜×§ ×‘×¢×´×",
    "employer_id": "515123456",
    "employee_name": "×™×©×¨××œ ×™×©×¨××œ×™",
    "employee_id": "123456789",
    "month_year": "10/2025",
    "pay_date": "05/11/2025",
    "payslip_number": "2025-10-12345"
  },
  "salary_components": {
    "gross_salary": 20000.00,
    "base_salary": 18000.00,
    "overtime_hours": 10,
    "overtime_pay": 1500.00,
    "bonus": 500.00,
    "allowances": {
      "travel": 0,
      "phone": 0,
      "food": 0
    },
    "tax_deducted": 4200.00,
    "social_security": 720.00,
    "health_tax": 310.00,
    "pension_employee": 1200.00,
    "pension_employer": 1500.00,
    "advanced_study_fund_employee": 500.00,
    "advanced_study_fund_employer": 500.00,
    "managers_insurance": 0,
    "net_salary": 13070.00
  },
  "pension_details": {
    "fund_name": "××‘×˜×—×™× ×§×¨×Ÿ ×¤× ×¡×™×”",
    "policy_number": "123456789",
    "employee_percentage": 6.0,
    "employer_percentage": 7.5
  }
}

**×”×ª×œ×•×©:**
${text}

**×—×©×•×‘: ×–×”×” ×‘××“×•×™×§ ××ª ×©×›×¨ ×‘×¨×•×˜×• ×•× ×˜×•!**`;
}

// ============================================================================
// 7ï¸âƒ£ ×“×•×— ××¡×œ×§×” ×¤× ×¡×™×•× ×™×ª (Pension Clearinghouse Report)
// ============================================================================

export function getPensionStatementPrompt(text: string): string {
  return `××ª×” ××•××—×” ×‘× ×™×ª×•×— ×“×•×—×•×ª ××¡×œ×§×” ×¤× ×¡×™×•× ×™×ª ×™×©×¨××œ×™×ª.

× ×ª×— ××ª ×“×•×— ×”××¡×œ×§×” ×”×‘× ×•×—×œ×¥ ××ª **×›×œ ×”×ª×•×›× ×™×•×ª ×•×”× ×ª×•× ×™× ×”×¤× ×¡×™×•× ×™×™×**.

## **××” ×œ×—×œ×¥:**

### **1. ××™×“×¢ ×›×œ×œ×™ (report_info):**
- ×©× ×”×œ×§×•×— (customer_name)
- ×ª×¢×•×“×ª ×–×”×•×ª (id_number)
- ×ª××¨×™×š ×“×•×— (report_date)
- ×©× ×¡×•×›×Ÿ/×™×•×¢×¥ (agent_name) - ×× ×™×©
- ×¡×”"×› ×™×ª×¨×” × ×•×›×—×™×ª (total_balance)
- ×¡×”"×› ×”×¤×§×“×” ×—×•×“×©×™×ª (total_monthly_deposit)

### **2. ×ª×•×›× ×™×•×ª ×¤× ×¡×™×•× ×™×•×ª (pension_plans):**
×¢×‘×•×¨ ×›×œ ×ª×•×›× ×™×ª (×§×¨×Ÿ ×¤× ×¡×™×”, ×§×•×¤×ª ×’××œ, ×§×¨×Ÿ ×”×©×ª×œ××•×ª, ×¤×•×œ×™×¡×ª ×‘×™×˜×•×— ××©×•×œ×‘×ª):

**×©×“×•×ª ×—×•×‘×”:**
- ×¡×•×’ ×ª×•×›× ×™×ª (plan_type): "pension_fund", "provident_fund", "study_fund", "insurance_policy"
- ×©× ×—×‘×¨×” ×× ×”×œ×ª (provider)
- ×©× ×ª×•×›× ×™×ª (plan_name)
- ××¡×¤×¨ ×ª×•×›× ×™×ª/×¤×•×œ×™×¡×” (policy_number)
- ×¡×˜×˜×•×¡ (status): "active", "frozen", "settled"
- ×•×•×ª×§ - ×ª××¨×™×š ×”×ª×—×œ×” (start_date)
- ×™×ª×¨×” × ×•×›×—×™×ª (current_balance)

**×©×“×•×ª ××•×¤×¦×™×•× ×œ×™×™×:**
- ×”×¤×§×“×” ×—×•×“×©×™×ª (monthly_deposit)
- ×”×¤×§×“×ª ×¢×•×‘×“ (employee_deposit)
- ×”×¤×§×“×ª ××¢×¡×™×§ (employer_deposit)
- ×’×™×œ ×¤×¨×™×©×” (retirement_age)
- ×—×™×¡×›×•×Ÿ ×œ×§×¦×‘×” (pension_savings)
- ×—×™×¡×›×•×Ÿ ×œ×”×•×Ÿ (capital_savings)
- ×›×™×¡×•×™×™× ×‘×™×˜×•×—×™×™× (insurance_coverage): ×‘×™×˜×•×— ×—×™×™×, ××•×‘×“×Ÿ ×›×•×©×¨ ×¢×‘×•×“×”, ××—×œ×•×ª ×§×©×•×ª ×•×›×•'
- ×ª×—×–×™×ª ×‘×’×™×œ ×¤×¨×™×©×” (retirement_forecast)
- ××¡×œ×•×œ ×”×©×§×¢×” (investment_track)
- ×“××™ × ×™×”×•×œ (management_fees)

### **3. ×¡×™×›×•× ×›×™×¡×•×™×™× ×‘×™×˜×•×—×™×™× (insurance_summary):**
×× ×™×© ×›×™×¡×•×™×™× ×‘×™×˜×•×—×™×™×, ×—×œ×¥:
- ×‘×™×˜×•×— ×—×™×™× (life_insurance)
- ×‘×™×˜×•×— ×™×¡×•×“×™ (basic_insurance)
- ×¤× ×¡×™×™×ª ×©××™×¨×™× (survivors_pension)
- ××•×‘×“×Ÿ ×›×•×©×¨ ×¢×‘×•×“×” (disability)
- ××—×œ×•×ª ×§×©×•×ª (critical_illness)
- ×‘×™×˜×•×— ×¡×™×¢×•×“×™ (nursing_care)
- × ×›×•×ª ××ª××•× ×” (accident_disability)

## **×¤×•×¨××˜ JSON:**
{
  "report_info": {
    "report_date": "16/03/2023",
    "customer_name": "××‘×™×ª×¨ ×‘××‘×× ×™",
    "id_number": "039854880",
    "agent_name": "×’×“×™ ×‘×¨×§××™",
    "total_balance": 11547.00,
    "total_monthly_deposit": 1666.00
  },
  "pension_plans": [
    {
      "plan_type": "pension_fund",
      "provider": "×”×¤× ×™×§×¡",
      "plan_name": "×”×¤× ×™×§×¡ ×¤× ×¡×™×” ××§×™×¤×”",
      "policy_number": "1124800010",
      "status": "frozen",
      "start_date": "01/03/2006",
      "current_balance": 24.00,
      "monthly_deposit": 0,
      "retirement_age": 67,
      "pension_savings": 24.00,
      "retirement_forecast": 75.00,
      "insurance_coverage": {
        "life_insurance": 398.00,
        "disability": 6007.00
      }
    }
  ],
  "insurance_summary": {
    "life_insurance": 398.00,
    "survivors_pension": 0,
    "disability": 8009.00,
    "critical_illness": 6007.00,
    "nursing_care": 0
  },
  "summary": {
    "total_plans": 5,
    "active_plans": 3,
    "frozen_plans": 2,
    "total_balance": 11547.00,
    "total_monthly_deposit": 1666.00,
    "by_type": {
      "pension_fund": 1,
      "provident_fund": 2,
      "study_fund": 1,
      "insurance_policy": 1
    }
  }
}

**×”×“×•×—:**
${text}

**×—×œ×¥ ××ª ×›×œ ×”×ª×•×›× ×™×•×ª - ×’× ×§×¤×•××•×ª ×•×’× ×¤×¢×™×œ×•×ª!**`;
}

// ============================================================================
// Helper: ×‘×—×™×¨×ª ×¤×¨×•××¤×˜ ×œ×¤×™ ×¡×•×’ ××¡××š
// ============================================================================

export function getPromptForDocumentType(
  documentType: string,
  extractedText: string,
  categories?: Array<{name: string; expense_type: string; category_group: string}>
): string {
  const normalizedType = documentType.toLowerCase();

  if (normalizedType.includes('credit') || normalizedType === 'credit_statement') {
    return getCreditStatementPrompt(extractedText, categories);
  }

  if (normalizedType.includes('bank') || normalizedType === 'bank_statement') {
    return getBankStatementPrompt(extractedText, categories);
  }

  if (normalizedType.includes('mortgage')) {
    return getMortgageStatementPrompt(extractedText);
  }

  if (normalizedType.includes('loan')) {
    return getLoanStatementPrompt(extractedText);
  }

  if (normalizedType.includes('insurance')) {
    return getInsuranceStatementPrompt(extractedText);
  }

  if (normalizedType.includes('pension') || normalizedType.includes('×¤× ×¡×™×”') || normalizedType.includes('××¡×œ×§×”')) {
    return getPensionStatementPrompt(extractedText);
  }

  if (normalizedType.includes('payslip') || normalizedType.includes('salary') || normalizedType.includes('×ª×œ×•×©')) {
    return getPayslipPrompt(extractedText);
  }

  // Default to credit statement for unknown types
  console.warn(`Unknown document type: ${documentType}, using credit statement prompt`);
  return getCreditStatementPrompt(extractedText, categories);
}

