-- Migration: Seed expense categories
-- תאריך: 2025-01-15
-- תיאור: מילוי ראשוני של קטגוריות הוצאות (120+ פריטים)

-- ניקוי נתונים קיימים (אם קיימים)
TRUNCATE TABLE public.expense_categories;

-- מילוי קטגוריות הוצאות
INSERT INTO public.expense_categories (name, expense_type, applicable_to, category_group, display_order) VALUES

-- דיור
('ארנונה למגורים', 'fixed', 'both', 'דיור', 1),
('ארנונה לעסק', 'fixed', 'self_employed', 'דיור', 2),
('חשמל לבית', 'fixed', 'both', 'דיור', 3),
('חשמל לעסק', 'fixed', 'self_employed', 'דיור', 4),
('מים', 'fixed', 'both', 'דיור', 5),
('גז', 'fixed', 'both', 'דיור', 6),
('ועד בית', 'fixed', 'both', 'דיור', 7),
('דמי ניהול בבניין משרדים', 'fixed', 'self_employed', 'דיור', 8),
('שכירות למגורים', 'fixed', 'both', 'דיור', 9),
('שכירות משרד / קליניקה', 'fixed', 'self_employed', 'דיור', 10),
('משכנתא', 'fixed', 'both', 'דיור', 11),
('תיקונים בבית', 'fixed', 'both', 'דיור', 12),
('אחזקת מבנה / עסק', 'fixed', 'self_employed', 'דיור', 13),
('ניקיון בית', 'variable', 'both', 'דיור', 14),
('ניקיון עסק', 'fixed', 'self_employed', 'דיור', 15),
('ניקיון חיצוני / עוזרת', 'fixed', 'both', 'דיור', 16),
('גינון', 'fixed', 'both', 'דיור', 17),
('טכנאים (מזגן, מקרר וכו\')', 'fixed', 'both', 'דיור', 18),
('ציוד ניקיון / תחזוקה', 'variable', 'both', 'דיור', 19),
('ציוד לבית', 'variable', 'both', 'דיור', 20),
('רהיטים', 'special', 'both', 'דיור', 21),
('מכשירי חשמל', 'special', 'both', 'דיור', 22),

-- תקשורת
('אינטרנט ביתי', 'fixed', 'both', 'תקשורת', 23),
('טלפונים ניידים', 'fixed', 'both', 'תקשורת', 24),
('טלפונים עסקיים', 'fixed', 'self_employed', 'תקשורת', 25),
('טלוויזיה (YES / HOT / סלקום)', 'fixed', 'both', 'תקשורת', 26),

-- ביטוחים
('ביטוח חיים', 'fixed', 'both', 'ביטוחים', 27),
('ביטוח בריאות', 'fixed', 'both', 'ביטוחים', 28),
('ביטוח לאובדן כושר עבודה', 'fixed', 'self_employed', 'ביטוחים', 29),
('ביטוח רכב', 'fixed', 'both', 'ביטוחים', 30),
('ביטוח עסק', 'fixed', 'self_employed', 'ביטוחים', 31),
('ביטוח דירה', 'fixed', 'both', 'ביטוחים', 32),
('ביטוח פנסיה', 'fixed', 'both', 'ביטוחים', 33),
('ביטוח אחריות מקצועית', 'fixed', 'self_employed', 'ביטוחים', 34),
('ביטוח צד ג\'', 'fixed', 'both', 'ביטוחים', 35),
('ביטוח חובה לרכב', 'fixed', 'both', 'ביטוחים', 36),
('ביטוח חיות מחמד', 'fixed', 'both', 'ביטוחים', 37),
('ביטוח בריאות לעובדים', 'fixed', 'self_employed', 'ביטוחים', 38),

-- הלוואות ופיננסים
('הלוואות בנקאיות', 'fixed', 'both', 'פיננסים', 39),
('הלוואות עסקיות', 'fixed', 'self_employed', 'פיננסים', 40),
('עמלות בנק', 'variable', 'both', 'פיננסים', 41),
('דמי ניהול חשבון עסקי', 'fixed', 'self_employed', 'פיננסים', 42),
('דמי ניהול חשבון פרטי', 'fixed', 'employee', 'פיננסים', 43),

-- רכב ותחבורה
('תחבורה ציבורית', 'variable', 'both', 'רכב', 44),
('דלק', 'variable', 'both', 'רכב', 45),
('חניה', 'variable', 'both', 'רכב', 46),
('כביש 6 / כבישי אגרה', 'variable', 'both', 'רכב', 47),
('טיפולי רכב / מוסך', 'fixed', 'both', 'רכב', 48),
('טסט לרכב', 'fixed', 'both', 'רכב', 49),
('תשלומי רישוי רכב', 'fixed', 'both', 'רכב', 50),

-- משרד וציוד
('ציוד משרדי', 'variable', 'self_employed', 'משרד', 51),
('מחשבים וציוד טכנולוגי', 'special', 'both', 'משרד', 52),
('תוכנות ורישיונות', 'fixed', 'self_employed', 'משרד', 53),
('שירותי ענן', 'fixed', 'self_employed', 'משרד', 54),
('תחזוקת אתר אינטרנט', 'fixed', 'self_employed', 'משרד', 55),
('דומיין ואחסון', 'fixed', 'self_employed', 'משרד', 56),
('ציוד טכני לעסק', 'fixed', 'self_employed', 'משרד', 57),
('ריהוט משרדי', 'special', 'self_employed', 'משרד', 58),
('תפעול מערכות ניהול', 'fixed', 'self_employed', 'משרד', 59),
('תחזוקת מחשבים', 'fixed', 'self_employed', 'משרד', 60),
('אבטחת מידע', 'fixed', 'self_employed', 'משרד', 61),

-- מנויים דיגיטליים
('מנויים דיגיטליים (נטפליקס, ספוטיפיי)', 'variable', 'both', 'מנויים', 62),
('מנויים עסקיים (Canva, ChatGPT, Adobe וכו\')', 'fixed', 'self_employed', 'מנויים', 63),

-- לימודים והשתלמויות
('קורסים ולמידה אישית', 'variable', 'both', 'לימודים', 64),
('הכשרות מקצועיות', 'fixed', 'self_employed', 'לימודים', 65),
('קורסים אונליין', 'variable', 'both', 'לימודים', 66),
('השתלמויות מקצועיות', 'fixed', 'self_employed', 'לימודים', 67),
('ספרים ולימודים', 'variable', 'both', 'לימודים', 68),
('הדרכות צוות', 'special', 'self_employed', 'לימודים', 69),

-- שיווק ופרסום
('שיווק ופרסום', 'variable', 'self_employed', 'שיווק', 70),
('קמפיינים דיגיטליים', 'variable', 'self_employed', 'שיווק', 71),
('עיצוב גרפי', 'variable', 'self_employed', 'שיווק', 72),
('הדפסות ודפוס', 'variable', 'self_employed', 'שיווק', 73),

-- ייעוץ מקצועי
('יועץ עסקי / פיננסי', 'variable', 'self_employed', 'ייעוץ', 74),
('רואה חשבון', 'fixed', 'self_employed', 'ייעוץ', 75),
('ייעוץ משפטי', 'variable', 'self_employed', 'ייעוץ', 76),
('הנהלת חשבונות', 'fixed', 'self_employed', 'ייעוץ', 77),

-- מיסים
('מיסים ומקדמות מס', 'fixed', 'self_employed', 'מיסים', 78),
('דמי ביטוח לאומי', 'fixed', 'both', 'מיסים', 79),
('מע"מ', 'fixed', 'self_employed', 'מיסים', 80),
('אגרת רישוי עסק', 'fixed', 'self_employed', 'מיסים', 81),
('אגרות ומסים חריגים', 'special', 'self_employed', 'מיסים', 82),

-- מזון ומשקאות
('מזון ומשקאות', 'variable', 'both', 'מזון', 83),
('קניות סופר', 'variable', 'both', 'מזון', 84),
('מסעדות', 'variable', 'both', 'מזון', 85),

-- הוצאות אישיות
('ביגוד', 'variable', 'both', 'אישי', 86),
('קוסמטיקה וטיפוח', 'variable', 'both', 'אישי', 87),

-- בילויים
('חופשות', 'special', 'both', 'בילויים', 88),
('בילויים ובידור', 'variable', 'both', 'בילויים', 89),

-- חינוך וילדים
('חינוך גנים ובתי ספר', 'fixed', 'both', 'חינוך', 90),
('חוגים לילדים', 'fixed', 'both', 'חינוך', 91),
('שיעורים פרטיים', 'variable', 'both', 'חינוך', 92),
('קייטנות', 'special', 'both', 'חינוך', 93),
('גני ילדים פרטיים', 'fixed', 'both', 'חינוך', 94),
('ציוד לימודי (לילדים)', 'variable', 'employee', 'חינוך', 95),
('תשלומי ועד הורים', 'variable', 'both', 'חינוך', 96),
('צעצועים ומתנות לילדים', 'variable', 'both', 'חינוך', 97),

-- בריאות
('טיפול רגשי / פסיכולוג', 'variable', 'both', 'בריאות', 98),
('קופת חולים', 'fixed', 'both', 'בריאות', 99),
('טיפולים רפואיים פרטיים', 'variable', 'both', 'בריאות', 100),
('תרופות', 'fixed', 'both', 'בריאות', 101),
('טיפולי שיניים', 'fixed', 'both', 'בריאות', 102),
('רופא משפחה פרטי', 'variable', 'both', 'בריאות', 103),

-- תרומות ומתנות
('תרומות', 'variable', 'both', 'מתנות', 104),
('מתנות', 'variable', 'both', 'מתנות', 105),
('ימי הולדת', 'variable', 'both', 'מתנות', 106),

-- הוצאות משפטיות
('הוצאות משפטיות', 'special', 'both', 'משפטי', 107),

-- אירועים
('אירועים משפחתיים (חתונה, בר מצווה וכו\')', 'special', 'both', 'אירועים', 108),

-- חיות מחמד
('הוצאות על חיות מחמד', 'variable', 'both', 'חיות מחמד', 109),

-- עובדים (רלוונטי לעצמאים)
('שכר עובדים', 'fixed', 'self_employed', 'עובדים', 110),
('בונוסים והטבות', 'variable', 'self_employed', 'עובדים', 111),
('תשלומי פנסיה לעובדים', 'fixed', 'self_employed', 'עובדים', 112),
('הוצאות רווחה לעובדים', 'variable', 'self_employed', 'עובדים', 113),
('נסיעות לעובדים', 'variable', 'self_employed', 'עובדים', 114);

-- הוספת אינדקס על category_group לביצועים
CREATE INDEX IF NOT EXISTS idx_expense_categories_group ON public.expense_categories(category_group);

-- הודעת הצלחה
DO $$
BEGIN
  RAISE NOTICE 'נטענו % קטגוריות הוצאות בהצלחה', (SELECT COUNT(*) FROM public.expense_categories);
END $$;

